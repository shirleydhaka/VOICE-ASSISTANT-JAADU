<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel = "stylesheet" href="login.css">
	 <link rel="icon" href="favicon.png" type="image/x-icon">
</head>
<body>
  

<div class="container">
	<!-- code here -->
	<div class="card">
		<div class="card-image">	
			<h2 class="card-heading">
				<small>Login in to your account</small>
			</h2>
		</div>
		<form class="card-form"  method="post"   id="Mainform">

						<div class="input">
				<input type="text" class="input-field"  id="email"   required/>
				<label class="input-label">Email</label>
			</div>
						<div class="input">
				<input type="password" class="input-field"   id="password"  required/>
				<label class="input-label">Password</label>
			</div>



			<div class="action">
				<button class="action-button" type="submit" >Login</button>
			</div>
		</form>
		 <div class="or-line">
      <span> OR </span>
    </div>
    
   <div class="button-container">
      <a href="#" id="google-Btn" class="google-logo-button">
          <img src="google.png" alt="Google Logo" width="30">
      </a>
    </div>
</div>


<script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    import { getAuth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, GithubAuthProvider } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";


    const firebaseConfig = {
      apiKey: "AIzaSyAySFXpgnztFX079uxY7UcsZIOOGxx9w2A",
      authDomain: "voice-recognition-3dfa0.firebaseapp.com",
      projectId: "voice-recognition-3dfa0",
      storageBucket: "voice-recognition-3dfa0.appspot.com",
      messagingSenderId: "613393824815",
      appId: "1:613393824815:web:db71c4d55cba71c34e9ada"
};







    const app = initializeApp(firebaseConfig);
    const db = getFirestore();
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();


	 const googleLogin = document.getElementById("googleSignInBtn");
  googleLogin.addEventListener("click", function name(params) {
      console.log("Sign in with Google button clicked");

      signInWithPopup(auth, provider)
          .then((result) => {
              const user = result.user;
              console.log("User signed in:", user);

              // Extract additional user information from the Google authentication result
              const { displayName, email } = user;

              // Store user credentials and additional information in local storage
              localStorage.setItem("user-creds", JSON.stringify(user));
              localStorage.setItem("user-info", JSON.stringify({ email, displayName }));

              window.location.href = "../index.html";
          })
          .catch((error) => {
              const errorCode = error.code;
              const errorMessage = error.message;
              console.error("Sign-in error:", errorCode, errorMessage);
          });
  });

    Mainform.addEventListener('submit', SignInUser);

</script>

</body>
</html>
